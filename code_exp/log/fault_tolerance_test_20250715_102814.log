2025-07-15 10:28:14,882 - INFO - === Starting Node Fault Recovery Test ===
2025-07-15 10:28:14,882 - INFO - Setting up fault tolerance test environment...
2025-07-15 10:28:14,882 - INFO - Starting node 0 on port 8545...
2025-07-15 10:28:14,883 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:28:14,883 - INFO - Starting node 1 on port 8546...
2025-07-15 10:28:16,899 - ERROR - Failed to start node 1
2025-07-15 10:28:16,899 - INFO - Starting node 2 on port 8547...
2025-07-15 10:28:20,195 - INFO - Node 2 started successfully on port 8547
2025-07-15 10:28:20,195 - INFO - Starting node 3 on port 8548...
2025-07-15 10:28:20,195 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:28:20,195 - WARNING - Only 1 out of 4 nodes started successfully
2025-07-15 10:28:20,227 - INFO - Successfully connected to node 2 and deployed contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-07-15 10:28:20,227 - INFO - Connected to 1 nodes
2025-07-15 10:28:20,227 - INFO - Starting fault tolerance test suite...
2025-07-15 10:28:20,227 - INFO - Running test scenario: Normal Operation with 4/4 active nodes
2025-07-15 10:28:20,233 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:28:20,233 - INFO - Starting node 0 on port 8545...
2025-07-15 10:28:20,233 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:28:20,235 - INFO - Node 1 is already running
2025-07-15 10:28:20,236 - INFO - Node 2 is already running
2025-07-15 10:28:20,236 - INFO - Starting node 3 on port 8548...
2025-07-15 10:28:20,236 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:28:25,255 - ERROR - Not enough nodes running. Need 4, have 2
2025-07-15 10:28:35,258 - INFO - Running test scenario: Single Node Failure with 3/4 active nodes
2025-07-15 10:28:35,267 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:28:35,267 - INFO - Starting node 0 on port 8545...
2025-07-15 10:28:35,268 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:28:35,270 - INFO - Node 1 is already running
2025-07-15 10:28:35,272 - INFO - Node 2 is already running
2025-07-15 10:28:35,272 - INFO - Starting node 3 on port 8548...
2025-07-15 10:28:35,272 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:28:40,290 - ERROR - Not enough nodes running. Need 3, have 2
2025-07-15 10:28:50,295 - INFO - Running test scenario: Double Node Failure with 2/4 active nodes
2025-07-15 10:28:50,308 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:28:50,308 - INFO - Starting node 0 on port 8545...
2025-07-15 10:28:50,308 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:28:50,312 - INFO - Node 1 is already running
2025-07-15 10:28:50,315 - INFO - Node 2 is already running
2025-07-15 10:28:50,316 - INFO - Starting node 3 on port 8548...
2025-07-15 10:28:50,316 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:28:55,340 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:55,340 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:55,360 - INFO - Transaction 3/50 successful on node 2
2025-07-15 10:28:55,865 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:55,891 - INFO - Transaction 5/50 successful on node 2
2025-07-15 10:28:56,397 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,397 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,397 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,398 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,398 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,423 - INFO - Transaction 11/50 successful on node 2
2025-07-15 10:28:56,928 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:56,957 - INFO - Transaction 13/50 successful on node 2
2025-07-15 10:28:57,487 - INFO - Transaction 14/50 successful on node 2
2025-07-15 10:28:57,992 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:58,018 - INFO - Transaction 16/50 successful on node 2
2025-07-15 10:28:58,549 - INFO - Transaction 17/50 successful on node 2
2025-07-15 10:28:59,082 - INFO - Transaction 18/50 successful on node 2
2025-07-15 10:28:59,588 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:28:59,611 - INFO - Transaction 20/50 successful on node 2
2025-07-15 10:29:00,142 - INFO - Transaction 21/50 successful on node 2
2025-07-15 10:29:00,676 - INFO - Transaction 22/50 successful on node 2
2025-07-15 10:29:01,181 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:01,205 - INFO - Transaction 24/50 successful on node 2
2025-07-15 10:29:01,744 - INFO - Transaction 25/50 successful on node 2
2025-07-15 10:29:02,249 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:02,276 - INFO - Transaction 27/50 successful on node 2
2025-07-15 10:29:02,782 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:02,782 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:02,803 - INFO - Transaction 30/50 successful on node 2
2025-07-15 10:29:03,335 - INFO - Transaction 31/50 successful on node 2
2025-07-15 10:29:03,840 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:03,867 - INFO - Transaction 33/50 successful on node 2
2025-07-15 10:29:04,373 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:04,399 - INFO - Transaction 35/50 successful on node 2
2025-07-15 10:29:04,931 - INFO - Transaction 36/50 successful on node 2
2025-07-15 10:29:05,436 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:05,437 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:05,437 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:05,437 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:05,458 - INFO - Transaction 41/50 successful on node 2
2025-07-15 10:29:05,963 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:05,989 - INFO - Transaction 43/50 successful on node 2
2025-07-15 10:29:06,520 - INFO - Transaction 44/50 successful on node 2
2025-07-15 10:29:07,025 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:07,026 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:29:07,053 - INFO - Transaction 47/50 successful on node 2
2025-07-15 10:29:07,585 - INFO - Transaction 48/50 successful on node 2
2025-07-15 10:29:08,111 - INFO - Transaction 49/50 successful on node 2
2025-07-15 10:29:08,643 - INFO - Transaction 50/50 successful on node 2
2025-07-15 10:29:09,148 - INFO - Fault period complete. Availability: 52.00%
2025-07-15 10:29:09,148 - INFO - Successful transactions: 26/50
2025-07-15 10:29:09,149 - INFO - Waiting 16.2 seconds to complete fault duration...
2025-07-15 10:29:25,346 - INFO - Waiting for nodes to sync...
2025-07-15 10:29:35,385 - INFO - Verifying data consistency across nodes...
2025-07-15 10:29:35,409 - INFO - Data consistency check passed
2025-07-15 10:29:35,409 - INFO - Test scenario complete: Double Node Failure
2025-07-15 10:29:35,409 - INFO - Results: {'scenario': 'Double Node Failure', 'active_nodes': 2, 'total_nodes': 4, 'fault_duration': 30, 'availability': 0.52, 'successful_txs': 26, 'failed_txs': 24, 'recovery_time': 10.040128946304321, 'sync_complete': True, 'data_consistent': True}
2025-07-15 10:29:45,414 - INFO - Running test scenario: Extreme Failure with 1/4 active nodes
2025-07-15 10:29:45,433 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:29:45,434 - INFO - Starting node 0 on port 8545...
2025-07-15 10:29:45,434 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:29:45,436 - INFO - Node 1 is already running
2025-07-15 10:29:45,438 - INFO - Node 2 is already running
2025-07-15 10:29:45,438 - INFO - Starting node 3 on port 8548...
2025-07-15 10:29:45,438 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:29:50,449 - INFO - Shutting down node 1 for fault simulation
2025-07-15 10:29:50,450 - INFO - Stopping node 1...
2025-07-15 10:29:51,453 - INFO - Node 1 stopped successfully
2025-07-15 10:29:51,467 - INFO - Transaction 1/50 successful on node 2
2025-07-15 10:29:51,999 - INFO - Transaction 2/50 successful on node 2
2025-07-15 10:29:52,528 - INFO - Transaction 3/50 successful on node 2
2025-07-15 10:29:53,059 - INFO - Transaction 4/50 successful on node 2
2025-07-15 10:29:53,593 - INFO - Transaction 5/50 successful on node 2
2025-07-15 10:29:54,120 - INFO - Transaction 6/50 successful on node 2
2025-07-15 10:29:54,651 - INFO - Transaction 7/50 successful on node 2
2025-07-15 10:29:55,182 - INFO - Transaction 8/50 successful on node 2
2025-07-15 10:29:55,712 - INFO - Transaction 9/50 successful on node 2
2025-07-15 10:29:56,237 - INFO - Transaction 10/50 successful on node 2
2025-07-15 10:29:56,769 - INFO - Transaction 11/50 successful on node 2
2025-07-15 10:29:57,299 - INFO - Transaction 12/50 successful on node 2
2025-07-15 10:29:57,812 - INFO - Transaction 13/50 successful on node 2
2025-07-15 10:29:58,341 - INFO - Transaction 14/50 successful on node 2
2025-07-15 10:29:58,873 - INFO - Transaction 15/50 successful on node 2
2025-07-15 10:29:59,402 - INFO - Transaction 16/50 successful on node 2
2025-07-15 10:29:59,931 - INFO - Transaction 17/50 successful on node 2
2025-07-15 10:30:00,462 - INFO - Transaction 18/50 successful on node 2
2025-07-15 10:30:00,989 - INFO - Transaction 19/50 successful on node 2
2025-07-15 10:30:01,507 - INFO - Transaction 20/50 successful on node 2
2025-07-15 10:30:02,038 - INFO - Transaction 21/50 successful on node 2
2025-07-15 10:30:02,566 - INFO - Transaction 22/50 successful on node 2
2025-07-15 10:30:03,099 - INFO - Transaction 23/50 successful on node 2
2025-07-15 10:30:03,627 - INFO - Transaction 24/50 successful on node 2
2025-07-15 10:30:04,157 - INFO - Transaction 25/50 successful on node 2
2025-07-15 10:30:04,685 - INFO - Transaction 26/50 successful on node 2
2025-07-15 10:30:05,222 - INFO - Transaction 27/50 successful on node 2
2025-07-15 10:30:05,755 - INFO - Transaction 28/50 successful on node 2
2025-07-15 10:30:06,284 - INFO - Transaction 29/50 successful on node 2
2025-07-15 10:30:06,813 - INFO - Transaction 30/50 successful on node 2
2025-07-15 10:30:07,342 - INFO - Transaction 31/50 successful on node 2
2025-07-15 10:30:07,868 - INFO - Transaction 32/50 successful on node 2
2025-07-15 10:30:08,397 - INFO - Transaction 33/50 successful on node 2
2025-07-15 10:30:08,928 - INFO - Transaction 34/50 successful on node 2
2025-07-15 10:30:09,457 - INFO - Transaction 35/50 successful on node 2
2025-07-15 10:30:09,988 - INFO - Transaction 36/50 successful on node 2
2025-07-15 10:30:10,519 - INFO - Transaction 37/50 successful on node 2
2025-07-15 10:30:11,050 - INFO - Transaction 38/50 successful on node 2
2025-07-15 10:30:11,584 - INFO - Transaction 39/50 successful on node 2
2025-07-15 10:30:12,110 - INFO - Transaction 40/50 successful on node 2
2025-07-15 10:30:12,641 - INFO - Transaction 41/50 successful on node 2
2025-07-15 10:30:13,166 - INFO - Transaction 42/50 successful on node 2
2025-07-15 10:30:13,691 - INFO - Transaction 43/50 successful on node 2
2025-07-15 10:30:14,221 - INFO - Transaction 44/50 successful on node 2
2025-07-15 10:30:14,751 - INFO - Transaction 45/50 successful on node 2
2025-07-15 10:30:15,281 - INFO - Transaction 46/50 successful on node 2
2025-07-15 10:30:15,812 - INFO - Transaction 47/50 successful on node 2
2025-07-15 10:30:16,343 - INFO - Transaction 48/50 successful on node 2
2025-07-15 10:30:16,874 - INFO - Transaction 49/50 successful on node 2
2025-07-15 10:30:17,401 - INFO - Transaction 50/50 successful on node 2
2025-07-15 10:30:17,906 - INFO - Fault period complete. Availability: 100.00%
2025-07-15 10:30:17,906 - INFO - Successful transactions: 50/50
2025-07-15 10:30:17,907 - INFO - Waiting 3.5 seconds to complete fault duration...
2025-07-15 10:30:21,456 - INFO - Restarting node 1
2025-07-15 10:30:21,456 - INFO - Starting node 1 on port 8546...
2025-07-15 10:30:23,472 - ERROR - Failed to start node 1
2025-07-15 10:30:23,473 - ERROR - Failed to connect to node 1 at http://127.0.0.1:8546
2025-07-15 10:30:23,473 - INFO - Waiting for nodes to sync...
2025-07-15 10:30:33,502 - INFO - Verifying data consistency across nodes...
2025-07-15 10:30:33,524 - INFO - Data consistency check passed
2025-07-15 10:30:33,524 - INFO - Test scenario complete: Extreme Failure
2025-07-15 10:30:33,524 - INFO - Results: {'scenario': 'Extreme Failure', 'active_nodes': 1, 'total_nodes': 4, 'fault_duration': 30, 'availability': 1.0, 'successful_txs': 50, 'failed_txs': 0, 'recovery_time': 12.04646921157837, 'sync_complete': True, 'data_consistent': True}
2025-07-15 10:30:43,544 - INFO - Results saved to /Users/yangzongyou/Downloads/iccip 2022/code_exp/data/fault_tolerance_test.csv
2025-07-15 10:30:43,544 - INFO - Cleaning up resources...
2025-07-15 10:30:43,549 - INFO - Stopping node 1...
2025-07-15 10:30:43,560 - INFO - Node 1 stopped successfully
2025-07-15 10:30:43,562 - INFO - Stopping node 2...
2025-07-15 10:30:43,570 - INFO - Node 2 stopped successfully
2025-07-15 10:30:43,570 - INFO - All nodes stopped
2025-07-15 10:30:43,570 - INFO - === Node Fault Recovery Test Complete ===
