2025-07-15 10:35:44,324 - INFO - === Starting Node Fault Recovery Test ===
2025-07-15 10:35:44,324 - INFO - Setting up fault tolerance test environment...
2025-07-15 10:35:44,324 - INFO - Starting node 0 on port 8545...
2025-07-15 10:35:44,324 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:35:44,324 - INFO - Starting node 1 on port 8546...
2025-07-15 10:35:46,334 - ERROR - Failed to start node 1
2025-07-15 10:35:46,334 - INFO - Starting node 2 on port 8547...
2025-07-15 10:35:49,639 - INFO - Node 2 started successfully on port 8547
2025-07-15 10:35:49,640 - INFO - Starting node 3 on port 8548...
2025-07-15 10:35:49,640 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:35:49,640 - WARNING - Only 1 out of 4 nodes started successfully
2025-07-15 10:35:49,674 - INFO - Successfully connected to node 2 and deployed contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-07-15 10:35:49,674 - INFO - Connected to 1 nodes
2025-07-15 10:35:49,674 - INFO - Starting fault tolerance test suite...
2025-07-15 10:35:49,674 - INFO - Running test scenario: Normal Operation with 4/4 active nodes
2025-07-15 10:35:49,679 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:35:49,679 - INFO - Starting node 0 on port 8545...
2025-07-15 10:35:49,679 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:35:49,680 - INFO - Node 1 is already running
2025-07-15 10:35:49,681 - INFO - Node 2 is already running
2025-07-15 10:35:49,681 - INFO - Starting node 3 on port 8548...
2025-07-15 10:35:49,681 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:35:54,698 - ERROR - Not enough nodes running. Need 4, have 2
2025-07-15 10:36:04,706 - INFO - Running test scenario: Single Node Failure with 3/4 active nodes
2025-07-15 10:36:04,722 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:36:04,722 - INFO - Starting node 0 on port 8545...
2025-07-15 10:36:04,722 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:36:04,726 - INFO - Node 1 is already running
2025-07-15 10:36:04,730 - INFO - Node 2 is already running
2025-07-15 10:36:04,730 - INFO - Starting node 3 on port 8548...
2025-07-15 10:36:04,730 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:36:09,746 - ERROR - Not enough nodes running. Need 3, have 2
2025-07-15 10:36:19,752 - INFO - Running test scenario: Double Node Failure with 2/4 active nodes
2025-07-15 10:36:19,770 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:36:19,770 - INFO - Starting node 0 on port 8545...
2025-07-15 10:36:19,770 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:36:19,774 - INFO - Node 1 is already running
2025-07-15 10:36:19,776 - INFO - Node 2 is already running
2025-07-15 10:36:19,776 - INFO - Starting node 3 on port 8548...
2025-07-15 10:36:19,776 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:36:24,818 - INFO - Transaction 1/50 successful on node 2
2025-07-15 10:36:25,350 - INFO - Transaction 2/50 successful on node 2
2025-07-15 10:36:25,855 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:25,855 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:25,856 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:25,856 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:25,883 - INFO - Transaction 7/50 successful on node 2
2025-07-15 10:36:26,415 - INFO - Transaction 8/50 successful on node 2
2025-07-15 10:36:26,920 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:26,946 - INFO - Transaction 10/50 successful on node 2
2025-07-15 10:36:27,478 - INFO - Transaction 11/50 successful on node 2
2025-07-15 10:36:28,008 - INFO - Transaction 12/50 successful on node 2
2025-07-15 10:36:28,540 - INFO - Transaction 13/50 successful on node 2
2025-07-15 10:36:29,045 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:29,045 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:29,069 - INFO - Transaction 16/50 successful on node 2
2025-07-15 10:36:29,574 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:29,602 - INFO - Transaction 18/50 successful on node 2
2025-07-15 10:36:30,131 - INFO - Transaction 19/50 successful on node 2
2025-07-15 10:36:30,637 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:30,655 - INFO - Transaction 21/50 successful on node 2
2025-07-15 10:36:31,156 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:31,157 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:31,177 - INFO - Transaction 24/50 successful on node 2
2025-07-15 10:36:31,713 - INFO - Transaction 25/50 successful on node 2
2025-07-15 10:36:32,246 - INFO - Transaction 26/50 successful on node 2
2025-07-15 10:36:32,751 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:32,777 - INFO - Transaction 28/50 successful on node 2
2025-07-15 10:36:33,282 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:33,282 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:33,283 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:33,283 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:33,309 - INFO - Transaction 33/50 successful on node 2
2025-07-15 10:36:33,814 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:33,838 - INFO - Transaction 35/50 successful on node 2
2025-07-15 10:36:34,343 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:34,344 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:34,370 - INFO - Transaction 38/50 successful on node 2
2025-07-15 10:36:34,875 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:34,876 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:34,900 - INFO - Transaction 41/50 successful on node 2
2025-07-15 10:36:35,406 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:35,406 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:35,406 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:35,433 - INFO - Transaction 45/50 successful on node 2
2025-07-15 10:36:35,961 - INFO - Transaction 46/50 successful on node 2
2025-07-15 10:36:36,489 - INFO - Transaction 47/50 successful on node 2
2025-07-15 10:36:37,020 - INFO - Transaction 48/50 successful on node 2
2025-07-15 10:36:37,554 - INFO - Transaction 49/50 successful on node 2
2025-07-15 10:36:38,059 - WARNING - No connection to node 1, skipping transaction
2025-07-15 10:36:38,060 - INFO - Fault period complete. Availability: 50.00%
2025-07-15 10:36:38,060 - INFO - Successful transactions: 25/50
2025-07-15 10:36:38,060 - INFO - Waiting 16.7 seconds to complete fault duration...
2025-07-15 10:36:54,804 - INFO - Waiting for nodes to sync...
2025-07-15 10:37:04,831 - INFO - Verifying data consistency across nodes...
2025-07-15 10:37:04,856 - INFO - Data consistency check passed
2025-07-15 10:37:04,856 - INFO - Test scenario complete: Double Node Failure
2025-07-15 10:37:04,856 - INFO - Results: {'scenario': 'Double Node Failure', 'active_nodes': 2, 'total_nodes': 4, 'fault_duration': 30, 'availability': 0.5, 'successful_txs': 25, 'failed_txs': 25, 'recovery_time': 10.026826858520508, 'sync_complete': True, 'data_consistent': True}
2025-07-15 10:37:14,862 - INFO - Running test scenario: Extreme Failure with 1/4 active nodes
2025-07-15 10:37:14,874 - WARNING - Only 2 nodes are running, starting missing nodes...
2025-07-15 10:37:14,874 - INFO - Starting node 0 on port 8545...
2025-07-15 10:37:14,874 - ERROR - Port 8545 is already in use. Cannot start node 0.
2025-07-15 10:37:14,876 - INFO - Node 1 is already running
2025-07-15 10:37:14,878 - INFO - Node 2 is already running
2025-07-15 10:37:14,878 - INFO - Starting node 3 on port 8548...
2025-07-15 10:37:14,879 - ERROR - Port 8548 is already in use. Cannot start node 3.
2025-07-15 10:37:19,898 - INFO - Shutting down node 1 for fault simulation
2025-07-15 10:37:19,901 - INFO - Stopping node 1...
2025-07-15 10:37:19,916 - INFO - Node 1 stopped successfully
2025-07-15 10:37:19,930 - INFO - Transaction 1/50 successful on node 2
2025-07-15 10:37:20,464 - INFO - Transaction 2/50 successful on node 2
2025-07-15 10:37:20,994 - INFO - Transaction 3/50 successful on node 2
2025-07-15 10:37:21,528 - INFO - Transaction 4/50 successful on node 2
2025-07-15 10:37:22,061 - INFO - Transaction 5/50 successful on node 2
2025-07-15 10:37:22,591 - INFO - Transaction 6/50 successful on node 2
2025-07-15 10:37:23,119 - INFO - Transaction 7/50 successful on node 2
2025-07-15 10:37:23,649 - INFO - Transaction 8/50 successful on node 2
2025-07-15 10:37:24,180 - INFO - Transaction 9/50 successful on node 2
2025-07-15 10:37:24,712 - INFO - Transaction 10/50 successful on node 2
2025-07-15 10:37:25,243 - INFO - Transaction 11/50 successful on node 2
2025-07-15 10:37:25,774 - INFO - Transaction 12/50 successful on node 2
2025-07-15 10:37:26,284 - INFO - Transaction 13/50 successful on node 2
2025-07-15 10:37:26,815 - INFO - Transaction 14/50 successful on node 2
2025-07-15 10:37:27,345 - INFO - Transaction 15/50 successful on node 2
2025-07-15 10:37:27,874 - INFO - Transaction 16/50 successful on node 2
2025-07-15 10:37:28,405 - INFO - Transaction 17/50 successful on node 2
2025-07-15 10:37:28,937 - INFO - Transaction 18/50 successful on node 2
2025-07-15 10:37:29,468 - INFO - Transaction 19/50 successful on node 2
2025-07-15 10:37:29,999 - INFO - Transaction 20/50 successful on node 2
2025-07-15 10:37:30,529 - INFO - Transaction 21/50 successful on node 2
2025-07-15 10:37:31,059 - INFO - Transaction 22/50 successful on node 2
2025-07-15 10:37:31,593 - INFO - Transaction 23/50 successful on node 2
2025-07-15 10:37:32,119 - INFO - Transaction 24/50 successful on node 2
2025-07-15 10:37:32,646 - INFO - Transaction 25/50 successful on node 2
2025-07-15 10:37:33,176 - INFO - Transaction 26/50 successful on node 2
2025-07-15 10:37:33,708 - INFO - Transaction 27/50 successful on node 2
2025-07-15 10:37:34,239 - INFO - Transaction 28/50 successful on node 2
2025-07-15 10:37:34,766 - INFO - Transaction 29/50 successful on node 2
2025-07-15 10:37:35,297 - INFO - Transaction 30/50 successful on node 2
2025-07-15 10:37:35,827 - INFO - Transaction 31/50 successful on node 2
2025-07-15 10:37:36,359 - INFO - Transaction 32/50 successful on node 2
2025-07-15 10:37:36,890 - INFO - Transaction 33/50 successful on node 2
2025-07-15 10:37:37,422 - INFO - Transaction 34/50 successful on node 2
2025-07-15 10:37:37,954 - INFO - Transaction 35/50 successful on node 2
2025-07-15 10:37:38,485 - INFO - Transaction 36/50 successful on node 2
2025-07-15 10:37:39,018 - INFO - Transaction 37/50 successful on node 2
2025-07-15 10:37:39,549 - INFO - Transaction 38/50 successful on node 2
2025-07-15 10:37:40,085 - INFO - Transaction 39/50 successful on node 2
2025-07-15 10:37:40,604 - INFO - Transaction 40/50 successful on node 2
2025-07-15 10:37:41,114 - INFO - Transaction 41/50 successful on node 2
2025-07-15 10:37:41,647 - INFO - Transaction 42/50 successful on node 2
2025-07-15 10:37:42,179 - INFO - Transaction 43/50 successful on node 2
2025-07-15 10:37:42,708 - INFO - Transaction 44/50 successful on node 2
2025-07-15 10:37:43,237 - INFO - Transaction 45/50 successful on node 2
2025-07-15 10:37:43,770 - INFO - Transaction 46/50 successful on node 2
2025-07-15 10:37:44,301 - INFO - Transaction 47/50 successful on node 2
2025-07-15 10:37:44,828 - INFO - Transaction 48/50 successful on node 2
2025-07-15 10:37:45,358 - INFO - Transaction 49/50 successful on node 2
2025-07-15 10:37:45,891 - INFO - Transaction 50/50 successful on node 2
2025-07-15 10:37:46,396 - INFO - Fault period complete. Availability: 100.00%
2025-07-15 10:37:46,397 - INFO - Successful transactions: 50/50
2025-07-15 10:37:46,397 - INFO - Waiting 3.5 seconds to complete fault duration...
2025-07-15 10:37:49,918 - INFO - Restarting node 1
2025-07-15 10:37:49,919 - INFO - Starting node 1 on port 8546...
2025-07-15 10:37:51,932 - ERROR - Failed to start node 1
2025-07-15 10:37:51,933 - ERROR - Failed to connect to node 1 at http://127.0.0.1:8546
2025-07-15 10:37:51,933 - INFO - Waiting for nodes to sync...
2025-07-15 10:38:01,958 - INFO - Verifying data consistency across nodes...
2025-07-15 10:38:01,981 - INFO - Data consistency check passed
2025-07-15 10:38:01,981 - INFO - Test scenario complete: Extreme Failure
2025-07-15 10:38:01,981 - INFO - Results: {'scenario': 'Extreme Failure', 'active_nodes': 1, 'total_nodes': 4, 'fault_duration': 30, 'availability': 1.0, 'successful_txs': 50, 'failed_txs': 0, 'recovery_time': 12.040194034576416, 'sync_complete': True, 'data_consistent': True}
2025-07-15 10:38:11,996 - INFO - Results saved to /Users/yangzongyou/Downloads/iccip 2022/code_exp/data/fault_tolerance_test.csv
2025-07-15 10:38:11,996 - INFO - Cleaning up resources...
2025-07-15 10:38:11,999 - INFO - Stopping node 1...
2025-07-15 10:38:12,007 - INFO - Node 1 stopped successfully
2025-07-15 10:38:12,009 - INFO - Stopping node 2...
2025-07-15 10:38:12,015 - INFO - Node 2 stopped successfully
2025-07-15 10:38:12,015 - INFO - All nodes stopped
2025-07-15 10:38:12,015 - INFO - === Node Fault Recovery Test Complete ===
